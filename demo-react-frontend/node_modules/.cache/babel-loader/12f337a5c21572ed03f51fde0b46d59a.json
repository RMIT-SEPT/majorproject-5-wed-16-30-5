{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Sidebar from\"../../Layout/Sidebar/Sidebar.js\";import*as BsIcons from'react-icons/bs';import{Button}from\"react-bootstrap\";import urlAddress from'../../ip.json';var url='http://'+urlAddress.ip+':8080/api/service/';console.log(urlAddress.ip);var MyServices=/*#__PURE__*/function(_Component){_inherits(MyServices,_Component);var _super=_createSuper(MyServices);function MyServices(props){var _this;_classCallCheck(this,MyServices);_this=_super.call(this,props);_this.state={services:[]};_this.editService=_this.editService.bind(_assertThisInitialized(_this));return _this;}_createClass(MyServices,[{key:\"editService\",value:function editService(id){this.props.history.push(\"/services/\".concat(id));}},{key:\"fetchData\",value:function fetchData(){var _this2=this;var email=window.sessionStorage.getItem('email');//encrypted password\nvar Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;var h=new Headers();h.append('Accept','application/json');h.append('Authorization',auth);h.append(\"Access-Control-Allow-Origin\",\"*\");fetch(url+'all',{method:'GET',headers:h}).then(function(res){return res.json();}).then(function(json){_this2.setState({services:json});});}},{key:\"delete\",value:function _delete(id){var _this3=this;var h=new Headers();var email=window.sessionStorage.getItem('email');var Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;h.append('Accept','application/json');h.append('Authorization',auth);if(window.confirm('Do you want to delete?')){fetch(url+id,{method:'delete',headers:h}).then(function(json){return _this3.fetchData();}).then(function(response){console.log('Authenticated');});}}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"div\",{style:{marginLeft:'25%'}},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(BsIcons.BsCardChecklist,null),\" My Services\"),/*#__PURE__*/React.createElement(\"table\",{style:{width:'700px'}},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\" ID\"),/*#__PURE__*/React.createElement(\"td\",null,\" Name\"),/*#__PURE__*/React.createElement(\"td\",null,\" Description\"),/*#__PURE__*/React.createElement(\"td\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.services.map(function(s){return/*#__PURE__*/React.createElement(\"tr\",{className:\"appo\",key:s.serviceIdentifier},/*#__PURE__*/React.createElement(\"td\",null,\" \",s.serviceIdentifier),/*#__PURE__*/React.createElement(\"td\",null,\" \",s.serviceName),/*#__PURE__*/React.createElement(\"td\",null,\" \",s.serviceDescription),/*#__PURE__*/React.createElement(\"td\",{className:\"edt\"},/*#__PURE__*/React.createElement(Button,{href:\"/services/\".concat(s.serviceIdentifier),onClick:function onClick(){return _this4.editService(s.serviceIdentifier);},style:{marginRight:'10px'}},\"Edit\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:_this4.delete.bind(_this4,s.serviceIdentifier)},\"Delete\")));})))));}}]);return MyServices;}(Component);export default MyServices;","map":{"version":3,"sources":["C:/Users/Amrah/IdeaProjects/Appointment booking API project/majorproject-5-wed-16-30-5/demo-react-frontend/src/components/Pages/Business-Owner/MyServices.js"],"names":["React","Component","Sidebar","BsIcons","Button","urlAddress","url","ip","console","log","MyServices","props","state","services","editService","bind","id","history","push","email","window","sessionStorage","getItem","Cryptr","require","cryptr","encryptedString","decryptedString","decrypt","encoded","btoa","auth","h","Headers","append","fetch","method","headers","then","res","json","setState","confirm","fetchData","response","marginLeft","width","map","s","serviceIdentifier","serviceName","serviceDescription","marginRight","delete"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Sidebar from \"../../Layout/Sidebar/Sidebar.js\";\r\nimport * as BsIcons from 'react-icons/bs';\r\nimport { Button } from \"react-bootstrap\";\r\nimport urlAddress from '../../ip.json';\r\n\r\nconst url = 'http://' + urlAddress.ip + ':8080/api/service/';\r\nconsole.log(urlAddress.ip)\r\n\r\nclass MyServices extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            services: [],\r\n        }\r\n        this.editService = this.editService.bind(this);\r\n    }\r\n    editService(id) {\r\n        this.props.history.push(`/services/${id}`);\r\n    }\r\n    fetchData() {\r\n        let email = window.sessionStorage.getItem('email');\r\n        //encrypted password\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        let h = new Headers();\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n        h.append(\"Access-Control-Allow-Origin\", \"*\")\r\n\r\n\r\n\r\n        fetch(url + 'all', {\r\n            method: 'GET',\r\n            headers: h\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({ services: json });\r\n\r\n            })\r\n    }\r\n    delete(id) {\r\n        let h = new Headers();\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n        if (window.confirm('Do you want to delete?')) {\r\n            fetch(url + id, {\r\n                method: 'delete',\r\n                headers: h\r\n            })\r\n                .then(json => this.fetchData())\r\n                .then(function (response) {\r\n                    console.log('Authenticated')\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Sidebar />\r\n                <div style={{ marginLeft: '25%' }}>\r\n                    <h1><BsIcons.BsCardChecklist /> My Services</h1>\r\n                    <table style={{ width: '700px' }} >\r\n                        <thead>\r\n                            <tr>\r\n                                <td> ID</td>\r\n                                <td> Name</td>\r\n                                <td> Description</td>\r\n                                <td></td>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.services.map(s =>\r\n                                <tr\r\n\r\n                                    className='appo'\r\n                                    key={s.serviceIdentifier} >\r\n\r\n                                    <td> {s.serviceIdentifier}</td>\r\n                                    <td> {s.serviceName}</td>\r\n                                    <td> {s.serviceDescription}</td>\r\n                                    <td className='edt'>\r\n                                        <Button\r\n                                            href={`/services/${s.serviceIdentifier}`}\r\n                                            onClick={() => this.editService(s.serviceIdentifier)}\r\n                                            style={{ marginRight: '10px' }}>Edit</Button>\r\n                                        <Button variant=\"danger\" onClick={this.delete.bind(this, s.serviceIdentifier)}>\r\n                                            Delete\r\n                                    </Button>\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MyServices;"]},"metadata":{},"sourceType":"module"}