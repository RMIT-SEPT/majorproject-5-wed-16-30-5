{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./Appointments.css';import{Button,Container}from\"react-bootstrap\";import*as BsIcons from'react-icons/bs';import Sidebar from'../../Layout/Sidebar/Sidebar';import urlAddress from'../../ip.json';var url='http://'+urlAddress.ip+':8080/api/service';var EditService=/*#__PURE__*/function(_Component){_inherits(EditService,_Component);var _super=_createSuper(EditService);function EditService(props){var _this;_classCallCheck(this,EditService);_this=_super.call(this,props);_this.changeNameHandler=function(event){_this.setState({serviceName:event.target.value});};_this.changeDesHandler=function(event){_this.setState({serviceDescription:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();};_this.state={serviceIdentifier:_this.props.match.params.id,id:'',serviceName:'',serviceDescription:''};_this.SaveData=_this.SaveData.bind(_assertThisInitialized(_this));_this.changeNameHandler=_this.changeNameHandler.bind(_assertThisInitialized(_this));_this.changeDesHandler=_this.changeDesHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(EditService,[{key:\"fetchData\",value:function fetchData(){var _this2=this;var h=new Headers();var email=window.sessionStorage.getItem('email');var Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;h.append('Accept','application/json');h.append('Authorization',auth);fetch(url+'/'+this.state.serviceIdentifier,{method:'GET',headers:h}).then(function(res){return res.json();}).then(function(json){_this2.setState({id:json.id,serviceIdentifier:json.serviceIdentifier,serviceName:json.serviceName,serviceDescription:json.serviceDescription});});}},{key:\"SaveData\",value:function SaveData(){var _this3=this;var h=new Headers();var email=window.sessionStorage.getItem('email');var Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;h.append('Content-Type','application/json');h.append('Accept','application/json');h.append('Authorization',auth);fetch(url+'/',{method:'post',headers:h,body:JSON.stringify({id:this.state.id,serviceIdentifier:this.state.serviceIdentifier,serviceName:this.state.serviceName,serviceDescription:this.state.serviceDescription})}).then(function(json){return _this3.fetchData();}).then(console.log(this.state));}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Container,{fluid:true,style:{padding:'0rem'}},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"div\",{style:{marginLeft:'25%'}},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(BsIcons.BsCardChecklist,null),\" Service Id: \",this.state.serviceIdentifier),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Name\",name:\"serviceName\",className:\"form-control\",value:this.state.serviceName,onChange:this.changeNameHandler})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Description: \"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Description\",name:\"Description\",className:\"form-control\",value:this.state.serviceDescription,onChange:this.changeDesHandler})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-success\",onClick:this.SaveData.bind(this,this.state.id),href:\"/BusinessServices\"},\"Save\"))));}}]);return EditService;}(Component);export default EditService;","map":{"version":3,"sources":["C:/Users/Amrah/IdeaProjects/Appointment booking API project/majorproject-5-wed-16-30-5/demo-react-frontend/src/components/Pages/Business-Owner/EditService.js"],"names":["React","Component","Button","Container","BsIcons","Sidebar","urlAddress","url","ip","EditService","props","changeNameHandler","event","setState","serviceName","target","value","changeDesHandler","serviceDescription","handleSubmit","preventDefault","state","serviceIdentifier","match","params","id","SaveData","bind","h","Headers","email","window","sessionStorage","getItem","Cryptr","require","cryptr","encryptedString","decryptedString","decrypt","console","log","encoded","btoa","auth","append","fetch","method","headers","then","res","json","body","JSON","stringify","fetchData","padding","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport './Appointments.css';\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport * as BsIcons from 'react-icons/bs';\r\nimport Sidebar from '../../Layout/Sidebar/Sidebar';\r\nimport urlAddress from '../../ip.json';\r\n\r\nconst url = 'http://' + urlAddress.ip + ':8080/api/service';\r\n\r\nclass EditService extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            serviceIdentifier: this.props.match.params.id,\r\n            id: '',\r\n            serviceName: '',\r\n            serviceDescription: ''\r\n        }\r\n        this.SaveData = this.SaveData.bind(this);\r\n        this.changeNameHandler = this.changeNameHandler.bind(this);\r\n        this.changeDesHandler = this.changeDesHandler.bind(this);\r\n    }\r\n\r\n    fetchData() {\r\n\r\n        let h = new Headers();\r\n\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n\r\n        fetch(url + '/' + this.state.serviceIdentifier, {\r\n            method: 'GET',\r\n            headers: h\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({\r\n                    id: json.id,\r\n                    serviceIdentifier: json.serviceIdentifier,\r\n                    serviceName: json.serviceName,\r\n                    serviceDescription: json.serviceDescription\r\n                });\r\n\r\n            });\r\n    }\r\n    changeNameHandler = (event) => {\r\n        this.setState({ serviceName: event.target.value });\r\n    }\r\n    changeDesHandler = (event) => {\r\n        this.setState({ serviceDescription: event.target.value });\r\n    }\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n    }\r\n    SaveData() {\r\n        let h = new Headers();\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        h.append('Content-Type', 'application/json');\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n\r\n        fetch(url + '/', {\r\n            method: 'post',\r\n            headers: h,\r\n            body: JSON.stringify({\r\n                id: this.state.id,\r\n                serviceIdentifier: this.state.serviceIdentifier,\r\n                serviceName: this.state.serviceName,\r\n                serviceDescription: this.state.serviceDescription\r\n            })\r\n        }).then(json => this.fetchData()).then(console.log(this.state))\r\n    }\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Container fluid style={{ padding: '0rem' }}>\r\n                <Sidebar />\r\n                <div style={{ marginLeft: '25%' }}>\r\n                    <h1><BsIcons.BsCardChecklist /> Service Id: {this.state.serviceIdentifier}</h1>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label> Name: </label>\r\n                            <input type=\"text\" placeholder=\"Name\" name=\"serviceName\" className=\"form-control\"\r\n                                value={this.state.serviceName} onChange={this.changeNameHandler} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Description: </label>\r\n                            <input placeholder=\"Description\" name=\"Description\" className=\"form-control\"\r\n                                value={this.state.serviceDescription}\r\n                                onChange={this.changeDesHandler} />\r\n                        </div>\r\n                        <Button\r\n                            className=\"btn btn-success\"\r\n                            onClick={this.SaveData.bind(this, this.state.id)}\r\n                            href=\"/BusinessServices\">Save</Button>\r\n                    </form>\r\n\r\n                </div>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditService"]},"metadata":{},"sourceType":"module"}