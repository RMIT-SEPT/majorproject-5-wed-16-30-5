{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Button,Container}from\"react-bootstrap\";import Sidebar from\"../../Layout/Sidebar/Sidebar.js\";import*as IoIcons from'react-icons/io';import urlAddress from'../../ip.json';var url='http://'+urlAddress.ip+':8080/api/worker';var EditEmployee=/*#__PURE__*/function(_Component){_inherits(EditEmployee,_Component);var _super=_createSuper(EditEmployee);function EditEmployee(props){var _this;_classCallCheck(this,EditEmployee);_this=_super.call(this,props);_this.changeNameHandler=function(event){_this.setState({workerName:event.target.value});};_this.changeAgeHandler=function(event){_this.setState({workerAge:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();};_this.state={workerIdentifier:_this.props.match.params.id,id:'',workerName:'',workerAge:'',serviceIdentifier:''};_this.SaveData=_this.SaveData.bind(_assertThisInitialized(_this));_this.changeNameHandler=_this.changeNameHandler.bind(_assertThisInitialized(_this));_this.changeAgeHandler=_this.changeAgeHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(EditEmployee,[{key:\"fetchData\",value:function fetchData(){var _this2=this;var h=new Headers();var email=window.sessionStorage.getItem('email');var Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;h.append('Accept','application/json');h.append('Authorization',auth);fetch(url+'/'+this.state.workerIdentifier,{method:'GET',headers:h}).then(function(res){return res.json();}).then(function(json){_this2.setState({id:json.id,workerIdentifier:json.workerIdentifier,workerName:json.workerName,workerAge:json.workerAge,serviceIdentifier:json.serviceIdentifier});});}},{key:\"SaveData\",value:function SaveData(){var _this3=this;var h=new Headers();var email=window.sessionStorage.getItem('email');var Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;h.append('Content-Type','application/json');h.append('Accept','application/json');h.append('Authorization',auth);fetch(url+'/',{method:'post',headers:h,body:JSON.stringify({id:this.state.id,workerIdentifier:this.state.workerIdentifier,workerName:this.state.workerName,workerAge:this.state.workerAge,serviceIdentifier:this.state.serviceIdentifier})}).then(function(json){return _this3.fetchData();}).then(console.log(this.state));}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Container,{fluid:true,style:{padding:'0rem'}},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"div\",{style:{marginLeft:'25%'}},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(IoIcons.IoMdPeople,null),\" Worker Id: \",this.state.workerIdentifier),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Name\",name:\"workerName\",className:\"form-control\",value:this.state.workerName,onChange:this.changeNameHandler})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Age: \"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Age\",name:\"Description\",className:\"form-control\",value:this.state.workerAge,onChange:this.changeAgeHandler})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-success\",onClick:this.SaveData.bind(this,this.state.id),href:\"/EmployeesPage\"},\"Save\"))));}}]);return EditEmployee;}(Component);export default EditEmployee;","map":{"version":3,"sources":["C:/Users/Amrah/IdeaProjects/Appointment booking API project/majorproject-5-wed-16-30-5/demo-react-frontend/src/components/Pages/Business-Owner/EditEmployee.js"],"names":["React","Component","Button","Container","Sidebar","IoIcons","urlAddress","url","ip","EditEmployee","props","changeNameHandler","event","setState","workerName","target","value","changeAgeHandler","workerAge","handleSubmit","preventDefault","state","workerIdentifier","match","params","id","serviceIdentifier","SaveData","bind","h","Headers","email","window","sessionStorage","getItem","Cryptr","require","cryptr","encryptedString","decryptedString","decrypt","console","log","encoded","btoa","auth","append","fetch","method","headers","then","res","json","body","JSON","stringify","fetchData","padding","marginLeft"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {Button, Container} from \"react-bootstrap\";\r\nimport Sidebar from \"../../Layout/Sidebar/Sidebar.js\";\r\nimport * as IoIcons from 'react-icons/io';\r\nimport urlAddress from '../../ip.json';\r\n\r\nconst url = 'http://' + urlAddress.ip + ':8080/api/worker';\r\n\r\nclass EditEmployee extends Component\r\n{\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            workerIdentifier: this.props.match.params.id,\r\n            id: '',\r\n            workerName: '',\r\n            workerAge: '',\r\n            serviceIdentifier:''\r\n        }\r\n        this.SaveData = this.SaveData.bind(this);\r\n        this.changeNameHandler = this.changeNameHandler.bind(this);\r\n        this.changeAgeHandler = this.changeAgeHandler.bind(this);\r\n    }\r\n\r\n    fetchData() {\r\n\r\n        let h = new Headers();\r\n\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n\r\n        fetch(url + '/' + this.state.workerIdentifier, {\r\n            method: 'GET',\r\n            headers: h\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({\r\n                    id: json.id,\r\n                    workerIdentifier: json.workerIdentifier,\r\n                    workerName: json.workerName,\r\n                    workerAge: json.workerAge,\r\n                    serviceIdentifier: json.serviceIdentifier\r\n                });\r\n\r\n            });\r\n    }\r\n    changeNameHandler = (event) => {\r\n        this.setState({ workerName: event.target.value });\r\n    }\r\n    changeAgeHandler = (event) => {\r\n        this.setState({ workerAge: event.target.value });\r\n    }\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n    }\r\n    SaveData() {\r\n        let h = new Headers();\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        h.append('Content-Type', 'application/json');\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n\r\n        fetch(url + '/', {\r\n            method: 'post',\r\n            headers: h,\r\n            body: JSON.stringify({\r\n                id: this.state.id,\r\n                workerIdentifier: this.state.workerIdentifier,\r\n                workerName: this.state.workerName,\r\n                workerAge: this.state.workerAge,\r\n                serviceIdentifier: this.state.serviceIdentifier\r\n            })\r\n        }).then(json => this.fetchData()).then(console.log(this.state))\r\n    }\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Container fluid style={{ padding: '0rem' }}>\r\n                <Sidebar />\r\n                <div style={{ marginLeft: '25%' }}>\r\n                    <h1><IoIcons.IoMdPeople /> Worker Id: {this.state.workerIdentifier}</h1>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label> Name: </label>\r\n                            <input type=\"text\" placeholder=\"Name\" name=\"workerName\" className=\"form-control\"\r\n                                value={this.state.workerName} onChange={this.changeNameHandler} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Age: </label>\r\n                            <input placeholder=\"Age\" name=\"Description\" className=\"form-control\"\r\n                                value={this.state.workerAge}\r\n                                onChange={this.changeAgeHandler} />\r\n                        </div>\r\n                        <Button\r\n                            className=\"btn btn-success\"\r\n                            onClick={this.SaveData.bind(this, this.state.id)}\r\n                            href=\"/EmployeesPage\">Save</Button>\r\n                    </form>\r\n\r\n                </div>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n        \r\n      export default EditEmployee;\r\n        "]},"metadata":{},"sourceType":"module"}