{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import*as IoIcons from'react-icons/io';import'./EmployeesPage.css';import{Button}from\"react-bootstrap\";import CreateAddEmployeeButton from'./CreateAddEmployeeButton.js';import Sidebar from\"../../Layout/Sidebar/Sidebar.js\";import urlAddress from'../../ip.json';var url='http://'+urlAddress.ip+':8080/api/worker/';var EmployeesPage=/*#__PURE__*/function(_Component){_inherits(EmployeesPage,_Component);var _super=_createSuper(EmployeesPage);function EmployeesPage(props){var _this;_classCallCheck(this,EmployeesPage);_this=_super.call(this,props);_this.state={employees:[]};_this.editEmployee=_this.editEmployee.bind(_assertThisInitialized(_this));return _this;}_createClass(EmployeesPage,[{key:\"editEmployee\",value:function editEmployee(id){this.props.history.push(\"/EmployeeList/\".concat(id));}},{key:\"fetchData\",value:function fetchData(){var _this2=this;var email=window.sessionStorage.getItem('email');//encrypted password\nvar Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;var h=new Headers();h.append('Accept','application/json');h.append('Authorization',auth);h.append(\"Access-Control-Allow-Origin\",\"*\");fetch(url+'all',{method:'GET',headers:h}).then(function(res){return res.json();}).then(function(json){_this2.setState({employees:json});});}},{key:\"delete\",value:function _delete(id){var _this3=this;var h=new Headers();var email=window.sessionStorage.getItem('email');var Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;h.append('Accept','application/json');h.append('Authorization',auth);if(window.confirm('Do you want to delete?')){fetch(url+id,{method:'delete',headers:h}).then(function(json){return _this3.fetchData();}).then(function(response){console.log('Authenticated');});}}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();console.log(this.state.employees);}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(CreateAddEmployeeButton,null),/*#__PURE__*/React.createElement(\"div\",{style:{marginLeft:'25%'}},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(IoIcons.IoMdPeople,null),\" Employees\"),/*#__PURE__*/React.createElement(\"table\",{style:{width:'700px'}},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\" ID\"),/*#__PURE__*/React.createElement(\"td\",null,\" Name\"),/*#__PURE__*/React.createElement(\"td\",null,\" Age\"),/*#__PURE__*/React.createElement(\"td\",null,\" Works For\"),/*#__PURE__*/React.createElement(\"td\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.employees.map(function(s){return/*#__PURE__*/React.createElement(\"tr\",{className:\"appo\",key:s.workerIdentifier},/*#__PURE__*/React.createElement(\"td\",null,\" \",s.workerIdentifier),/*#__PURE__*/React.createElement(\"td\",null,\" \",s.workerName),/*#__PURE__*/React.createElement(\"td\",null,\" \",s.workerAge),/*#__PURE__*/React.createElement(\"td\",null,s.serviceName),/*#__PURE__*/React.createElement(\"td\",{className:\"edt\"},/*#__PURE__*/React.createElement(Button,{href:\"/EmployeeList/\".concat(s.workerIdentifier),onClick:function onClick(){return _this4.editEmployee(s.workerIdentifier);},style:{marginRight:'10px'}},\"Edit\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:_this4.delete.bind(_this4,s.workerIdentifier)},\"Delete\")));})))));}}]);return EmployeesPage;}(Component);export default EmployeesPage;","map":{"version":3,"sources":["C:/Users/Amrah/IdeaProjects/Appointment booking API project/majorproject-5-wed-16-30-5/demo-react-frontend/src/components/Pages/Business-Owner/EmployeesPage.js"],"names":["React","Component","IoIcons","Button","CreateAddEmployeeButton","Sidebar","urlAddress","url","ip","EmployeesPage","props","state","employees","editEmployee","bind","id","history","push","email","window","sessionStorage","getItem","Cryptr","require","cryptr","encryptedString","decryptedString","decrypt","console","log","encoded","btoa","auth","h","Headers","append","fetch","method","headers","then","res","json","setState","confirm","fetchData","response","marginLeft","width","map","s","workerIdentifier","workerName","workerAge","serviceName","marginRight","delete"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport * as IoIcons from 'react-icons/io';\r\nimport './EmployeesPage.css';\r\nimport { Button } from \"react-bootstrap\";\r\nimport CreateAddEmployeeButton from './CreateAddEmployeeButton.js';\r\nimport Sidebar from \"../../Layout/Sidebar/Sidebar.js\";\r\nimport urlAddress from '../../ip.json';\r\n\r\nconst url = 'http://' + urlAddress.ip + ':8080/api/worker/';\r\n\r\nclass EmployeesPage extends Component\r\n{\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            employees: [],\r\n        }\r\n        this.editEmployee = this.editEmployee.bind(this);\r\n    }\r\n    editEmployee(id) {\r\n        this.props.history.push(`/EmployeeList/${id}`);\r\n    }\r\n    fetchData() {\r\n        let email = window.sessionStorage.getItem('email');\r\n        //encrypted password\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        let h = new Headers();\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n        h.append(\"Access-Control-Allow-Origin\", \"*\")\r\n\r\n\r\n\r\n        fetch(url + 'all', {\r\n            method: 'GET',\r\n            headers: h\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({ employees: json });\r\n\r\n            })\r\n    }\r\n    delete(id) {\r\n        let h = new Headers();\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n        if (window.confirm('Do you want to delete?')) {\r\n            fetch(url + id, {\r\n                method: 'delete',\r\n                headers: h\r\n            })\r\n                .then(json => this.fetchData())\r\n                .then(function (response) {\r\n                    console.log('Authenticated')\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n        console.log(this.state.employees);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Sidebar />\r\n                <CreateAddEmployeeButton/>\r\n                <div style={{ marginLeft: '25%' }}>\r\n                    <h1><IoIcons.IoMdPeople /> Employees</h1>\r\n                    <table style={{ width: '700px' }} >\r\n                        <thead>\r\n                            <tr>\r\n                                <td> ID</td>\r\n                                <td> Name</td>\r\n                                <td> Age</td>\r\n                                <td> Works For</td>\r\n                                <td></td>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.employees.map(s =>\r\n                                <tr\r\n\r\n                                    className='appo'\r\n                                    key={s.workerIdentifier} >\r\n\r\n                                    <td> {s.workerIdentifier}</td>\r\n                                    <td> {s.workerName}</td>\r\n                                    <td> {s.workerAge}</td>\r\n                                    <td>{s.serviceName}</td>\r\n                                    <td className='edt'>\r\n                                        <Button\r\n                                            href={`/EmployeeList/${s.workerIdentifier}`}\r\n                                            onClick={() => this.editEmployee(s.workerIdentifier)}\r\n                                            style={{ marginRight: '10px' }}>Edit</Button>\r\n                                        <Button variant=\"danger\" onClick={this.delete.bind(this, s.workerIdentifier)}>\r\n                                            Delete\r\n                                    </Button>\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n         \r\n      export default EmployeesPage;\r\n        \r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}