{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./Services.css';import{Button}from\"react-bootstrap\";import*as IoIcons from'react-icons/io';import Sidebar from'../../Layout/Sidebar/Sidebar';import urlAddress from'../../ip.json';import TimeField from'react-simple-timefield';var url='http://'+urlAddress.ip+':8080/api/appointment';var urlWorker='http://'+urlAddress.ip+':8080/api/worker/allWorkers';var CreateAppo=/*#__PURE__*/function(_Component){_inherits(CreateAppo,_Component);var _super=_createSuper(CreateAppo);function CreateAppo(props){var _this;_classCallCheck(this,CreateAppo);_this=_super.call(this,props);_this.changeNameHandler=function(event){_this.setState({appointmentName:event.target.value});};_this.changeDesHandler=function(event){_this.setState({description:event.target.value});};_this.changeDateHandler=function(event){_this.setState({appointmentDate:event.target.value});};_this.changeTimeHandler=function(event){_this.setState({appointmentTime:event.target.value});};_this.changeWorkerHandler=function(event){_this.setState({workerIdentifier:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();};_this.state={appointmentIdentifier:Math.floor(10000+Math.random()*90000),serviceIdentifier:_this.props.match.params.id,worker:[],employee:[],workerIdentifier:'',appointmentName:'',description:'',appointmentDate:'',appointmentTime:''};_this.changeNameHandler=_this.changeNameHandler.bind(_assertThisInitialized(_this));_this.changeDesHandler=_this.changeDesHandler.bind(_assertThisInitialized(_this));_this.changeTimeHandler=_this.changeTimeHandler.bind(_assertThisInitialized(_this));_this.changeWorkerHandler=_this.changeWorkerHandler.bind(_assertThisInitialized(_this));_this.changeDateHandler=_this.changeDateHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(CreateAppo,[{key:\"SaveData\",value:function SaveData(){var h=new Headers();var email=window.sessionStorage.getItem('email');var Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;h.append('Content-Type','application/json');h.append('Accept','application/json');h.append('Authorization',auth);fetch(url,{method:'post',headers:h,body:JSON.stringify({appointmentIdentifier:this.state.appointmentIdentifier,serviceIdentifier:this.state.serviceIdentifier,appointmentDate:this.state.appointmentDate,appointmentName:this.state.appointmentName,description:this.state.description,appointmentTime:this.state.appointmentTime,workerIdentifier:this.state.workerIdentifier})}).then(console.log(this.state));}},{key:\"fetchWorker\",value:function fetchWorker(){var _this2=this;var h=new Headers();h.append('Accept','application/json');h.append(\"Access-Control-Allow-Origin\",\"*\");fetch(urlWorker,{method:'GET',headers:h}).then(function(res){return res.json();}).then(function(json){_this2.setState({worker:json});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchWorker();console.log(this.state.appointmentIdentifier);console.log(this.state.serviceIdentifier);}},{key:\"render\",value:function render(){var _this3=this;var employee=this.state.worker.filter(function(w){return w.serviceIdentifier.startsWith(_this3.state.serviceIdentifier);});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"h1\",{style:{marginLeft:'25%'}},/*#__PURE__*/React.createElement(IoIcons.IoIosPaper,null),\" Book an Appointment: \"),/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{marginLeft:'25%'}},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Appointment Id: \",this.state.appointmentIdentifier)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Service Id: \",this.state.serviceIdentifier)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Your Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Name\",name:\"appointmentName\",className:\"form-control\",value:this.state.appointmentName,onChange:this.changeNameHandler})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Description: \"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Description\",name:\"Description\",className:\"form-control\",value:this.state.description,onChange:this.changeDesHandler})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\",style:{float:'left',marginRight:'10px'}},/*#__PURE__*/React.createElement(\"label\",null,\" Date: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",placeholder:\"Date\",name:\"Date\",className:\"form-control\",value:this.state.appointmentDate,onChange:this.changeDateHandler})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Time: \"),/*#__PURE__*/React.createElement(TimeField,{value:\"00:00:00\",onChange:this.changeTimeHandler,input:/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Date\",name:\"Date\",className:\"form-control\",value:this.state.appointmentTime}),showSeconds:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{style:{marginRight:'10px'}},\" Employee: \"),/*#__PURE__*/React.createElement(\"select\",{id:\"employee id\",name:\"employee\",className:\"employee\",onChange:this.changeWorkerHandler},/*#__PURE__*/React.createElement(\"option\",null,\"Choose an Employee\"),employee.map(function(e){return/*#__PURE__*/React.createElement(\"option\",{value:e.workerIdentifier},e.workerName);}))),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-success\",onClick:this.SaveData.bind(this),href:\"/UserAppo\"},\"Book Appointment\"))));}}]);return CreateAppo;}(Component);export default CreateAppo;","map":{"version":3,"sources":["C:/Users/Amrah/IdeaProjects/Appointment booking API project/majorproject-5-wed-16-30-5/demo-react-frontend/src/components/Pages/User/CreateAppo.js"],"names":["React","Component","Button","IoIcons","Sidebar","urlAddress","TimeField","url","ip","urlWorker","CreateAppo","props","changeNameHandler","event","setState","appointmentName","target","value","changeDesHandler","description","changeDateHandler","appointmentDate","changeTimeHandler","appointmentTime","changeWorkerHandler","workerIdentifier","handleSubmit","preventDefault","state","appointmentIdentifier","Math","floor","random","serviceIdentifier","match","params","id","worker","employee","bind","h","Headers","email","window","sessionStorage","getItem","Cryptr","require","cryptr","encryptedString","decryptedString","decrypt","console","log","encoded","btoa","auth","append","fetch","method","headers","body","JSON","stringify","then","res","json","fetchWorker","filter","w","startsWith","marginLeft","float","marginRight","map","e","workerName","SaveData"],"mappings":"4pCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,gBAAP,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CAEA,GAAMC,CAAAA,GAAG,CAAG,UAAUF,UAAU,CAACG,EAArB,CAAwB,uBAApC,CACA,GAAMC,CAAAA,SAAS,CAAG,UAAYJ,UAAU,CAACG,EAAvB,CAA4B,6BAA9C,C,GAEME,CAAAA,U,wGACF,oBAAYC,KAAZ,CAAmB,4CACf,uBAAMA,KAAN,EADe,MAqBnBC,iBArBmB,CAqBC,SAACC,KAAD,CAAW,CAC3B,MAAKC,QAAL,CAAc,CAAEC,eAAe,CAAEF,KAAK,CAACG,MAAN,CAAaC,KAAhC,CAAd,EACH,CAvBkB,OAwBnBC,gBAxBmB,CAwBA,SAACL,KAAD,CAAW,CAC1B,MAAKC,QAAL,CAAc,CAAEK,WAAW,CAAEN,KAAK,CAACG,MAAN,CAAaC,KAA5B,CAAd,EACH,CA1BkB,OA2BnBG,iBA3BmB,CA2BC,SAACP,KAAD,CAAW,CAC3B,MAAKC,QAAL,CAAc,CAAEO,eAAe,CAAER,KAAK,CAACG,MAAN,CAAaC,KAAhC,CAAd,EACH,CA7BkB,OA8BnBK,iBA9BmB,CA8BC,SAACT,KAAD,CAAW,CAC3B,MAAKC,QAAL,CAAc,CAAES,eAAe,CAAEV,KAAK,CAACG,MAAN,CAAaC,KAAhC,CAAd,EACH,CAhCkB,OAiCnBO,mBAjCmB,CAiCG,SAACX,KAAD,CAAW,CAC7B,MAAKC,QAAL,CAAc,CAAEW,gBAAgB,CAAEZ,KAAK,CAACG,MAAN,CAAaC,KAAjC,CAAd,EACH,CAnCkB,OAoCnBS,YApCmB,CAoCJ,SAAAb,KAAK,CAAI,CACpBA,KAAK,CAACc,cAAN,GACH,CAtCkB,CAGf,MAAKC,KAAL,CAAa,CACTC,qBAAqB,CAAEC,IAAI,CAACC,KAAL,CAAW,MAAQD,IAAI,CAACE,MAAL,GAAgB,KAAnC,CADd,CAETC,iBAAiB,CAAE,MAAKtB,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,EAFlC,CAGTC,MAAM,CAAE,EAHC,CAITC,QAAQ,CAAE,EAJD,CAKTb,gBAAgB,CAAE,EALT,CAMTV,eAAe,CAAE,EANR,CAOTI,WAAW,CAAE,EAPJ,CAQTE,eAAe,CAAE,EARR,CASTE,eAAe,CAAC,EATP,CAAb,CAWA,MAAKX,iBAAL,CAAyB,MAAKA,iBAAL,CAAuB2B,IAAvB,+BAAzB,CACA,MAAKrB,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBqB,IAAtB,+BAAxB,CACA,MAAKjB,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBiB,IAAvB,+BAAzB,CACA,MAAKf,mBAAL,CAA2B,MAAKA,mBAAL,CAAyBe,IAAzB,+BAA3B,CACA,MAAKnB,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBmB,IAAvB,+BAAzB,CAlBe,aAmBlB,C,kEAoBU,CACP,GAAIC,CAAAA,CAAC,CAAG,GAAIC,CAAAA,OAAJ,EAAR,CACA,GAAIC,CAAAA,KAAK,CAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAZ,CACA,GAAMC,CAAAA,MAAM,CAAGC,OAAO,CAAC,QAAD,CAAtB,CACA,GAAMC,CAAAA,MAAM,CAAG,GAAIF,CAAAA,MAAJ,CAAW,SAAX,CAAf,CACA,GAAIG,CAAAA,eAAe,CAAGN,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,WAA9B,CAAtB,CACA,GAAMK,CAAAA,eAAe,CAAGF,MAAM,CAACG,OAAP,CAAeF,eAAf,CAAxB,CACAG,OAAO,CAACC,GAAR,CAAYH,eAAZ,EACA,GAAII,CAAAA,OAAO,CAAGX,MAAM,CAACY,IAAP,CAAYb,KAAK,CAAG,GAAR,CAAcQ,eAA1B,CAAd,CACA,GAAIM,CAAAA,IAAI,CAAG,SAAWF,OAAtB,CACAd,CAAC,CAACiB,MAAF,CAAS,cAAT,CAAyB,kBAAzB,EACAjB,CAAC,CAACiB,MAAF,CAAS,QAAT,CAAmB,kBAAnB,EACAjB,CAAC,CAACiB,MAAF,CAAS,eAAT,CAA0BD,IAA1B,EAEAE,KAAK,CAACnD,GAAD,CAAM,CACPoD,MAAM,CAAE,MADD,CAEPC,OAAO,CAAEpB,CAFF,CAGPqB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBlC,qBAAqB,CAAE,KAAKD,KAAL,CAAWC,qBADjB,CAEjBI,iBAAiB,CAAE,KAAKL,KAAL,CAAWK,iBAFb,CAGjBZ,eAAe,CAAE,KAAKO,KAAL,CAAWP,eAHX,CAIjBN,eAAe,CAAE,KAAKa,KAAL,CAAWb,eAJX,CAKjBI,WAAW,CAAE,KAAKS,KAAL,CAAWT,WALP,CAMjBI,eAAe,CAAE,KAAKK,KAAL,CAAWL,eANX,CAOjBE,gBAAgB,CAAE,KAAKG,KAAL,CAAWH,gBAPZ,CAAf,CAHC,CAAN,CAAL,CAYGuC,IAZH,CAYQZ,OAAO,CAACC,GAAR,CAAY,KAAKzB,KAAjB,CAZR,EAaH,C,iDACY,iBACT,GAAIY,CAAAA,CAAC,CAAG,GAAIC,CAAAA,OAAJ,EAAR,CACAD,CAAC,CAACiB,MAAF,CAAS,QAAT,CAAmB,kBAAnB,EACAjB,CAAC,CAACiB,MAAF,CAAS,6BAAT,CAAwC,GAAxC,EAEAC,KAAK,CAACjD,SAAD,CAAY,CACbkD,MAAM,CAAE,KADK,CAEbC,OAAO,CAAEpB,CAFI,CAAZ,CAAL,CAIKwB,IAJL,CAIU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAJb,EAKKF,IALL,CAKU,SAAAE,IAAI,CAAI,CACV,MAAI,CAACpD,QAAL,CAAc,CAAEuB,MAAM,CAAE6B,IAAV,CAAd,EACH,CAPL,EAQH,C,6DACmB,CAChB,KAAKC,WAAL,GACAf,OAAO,CAACC,GAAR,CAAY,KAAKzB,KAAL,CAAWC,qBAAvB,EACAuB,OAAO,CAACC,GAAR,CAAY,KAAKzB,KAAL,CAAWK,iBAAvB,EACH,C,uCAEQ,iBACL,GAAMK,CAAAA,QAAQ,CAAG,KAAKV,KAAL,CAAWS,MAAX,CAAkB+B,MAAlB,CACb,SAAAC,CAAC,CAAI,CACD,MAAOA,CAAAA,CAAC,CAACpC,iBAAF,CAAoBqC,UAApB,CAA+B,MAAI,CAAC1C,KAAL,CAAWK,iBAA1C,CAAP,CACH,CAHY,CAAjB,CAKA,mBACI,qDACI,oBAAC,OAAD,MADJ,cAEI,0BAAI,KAAK,CAAE,CAAEsC,UAAU,CAAE,KAAd,CAAX,eAAkC,oBAAC,OAAD,CAAS,UAAT,MAAlC,0BAFJ,cAGI,2BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEA,UAAU,CAAE,KAAd,CAAlC,eACI,4BAAM,QAAQ,CAAE,KAAK7C,YAArB,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,qDAAyB,KAAKE,KAAL,CAAWC,qBAApC,CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,YAAf,eACI,iDAAqB,KAAKD,KAAL,CAAWK,iBAAhC,CADJ,CAJJ,cAOI,2BAAK,SAAS,CAAC,YAAf,eACI,gDADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,MAA/B,CAAsC,IAAI,CAAC,iBAA3C,CAA6D,SAAS,CAAC,cAAvE,CACI,KAAK,CAAE,KAAKL,KAAL,CAAWb,eADtB,CACuC,QAAQ,CAAE,KAAKH,iBADtD,EAFJ,CAPJ,cAYI,2BAAK,SAAS,CAAC,YAAf,eACI,kDADJ,cAEI,6BAAO,WAAW,CAAC,aAAnB,CAAiC,IAAI,CAAC,aAAtC,CAAoD,SAAS,CAAC,cAA9D,CACI,KAAK,CAAE,KAAKgB,KAAL,CAAWT,WADtB,CACmC,QAAQ,CAAE,KAAKD,gBADlD,EAFJ,CAZJ,cAiBI,2BAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAE,CAAEsD,KAAK,CAAE,MAAT,CAAiBC,WAAW,CAAE,MAA9B,CAAnC,eACI,2CADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,MAA/B,CAAsC,IAAI,CAAC,MAA3C,CAAkD,SAAS,CAAC,cAA5D,CACI,KAAK,CAAE,KAAK7C,KAAL,CAAWP,eADtB,CACuC,QAAQ,CAAE,KAAKD,iBADtD,EAFJ,CAjBJ,cAsBI,2BAAK,SAAS,CAAC,YAAf,eACI,2CADJ,cAGI,oBAAC,SAAD,EACI,KAAK,CAAC,UADV,CAEI,QAAQ,CAAE,KAAKE,iBAFnB,CAGI,KAAK,cACL,6BACA,IAAI,CAAC,MADL,CAEA,WAAW,CAAC,MAFZ,CAGA,IAAI,CAAC,MAHL,CAIA,SAAS,CAAC,cAJV,CAKA,KAAK,CAAE,KAAKM,KAAL,CAAWL,eALlB,EAJJ,CAWI,WAAW,KAXf,EAHJ,CAtBJ,cAuCI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,KAAK,CAAE,CAACkD,WAAW,CAAC,MAAb,CAAd,gBADJ,cAEI,8BAAQ,EAAE,CAAC,aAAX,CAAyB,IAAI,CAAC,UAA9B,CAAyC,SAAS,CAAC,UAAnD,CAA8D,QAAQ,CAAE,KAAKjD,mBAA7E,eACI,uDADJ,CAEKc,QAAQ,CAACoC,GAAT,CAAa,SAAAC,CAAC,qBACX,8BAAQ,KAAK,CAAEA,CAAC,CAAClD,gBAAjB,EAAqCkD,CAAC,CAACC,UAAvC,CADW,EAAd,CAFL,CAFJ,CAvCJ,cAgDI,oBAAC,MAAD,EACI,SAAS,CAAC,iBADd,CAEI,OAAO,CAAE,KAAKC,QAAL,CAActC,IAAd,CAAmB,IAAnB,CAFb,CAGI,IAAI,CAAC,WAHT,qBAhDJ,CADJ,CAHJ,CADJ,CA8DH,C,wBA5JoBtC,S,EA+JzB,cAAeS,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport './Services.css';\r\nimport { Button } from \"react-bootstrap\";\r\nimport * as IoIcons from 'react-icons/io';\r\nimport Sidebar from '../../Layout/Sidebar/Sidebar';\r\nimport urlAddress from '../../ip.json';\r\nimport TimeField from 'react-simple-timefield';\r\n\r\nconst url = 'http://'+urlAddress.ip+':8080/api/appointment';\r\nconst urlWorker = 'http://' + urlAddress.ip + ':8080/api/worker/allWorkers';\r\n\r\nclass CreateAppo extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            appointmentIdentifier: Math.floor(10000 + Math.random() * 90000),\r\n            serviceIdentifier: this.props.match.params.id,\r\n            worker: [],\r\n            employee: [],\r\n            workerIdentifier: '',\r\n            appointmentName: '',\r\n            description: '',\r\n            appointmentDate: '',\r\n            appointmentTime:''\r\n        }\r\n        this.changeNameHandler = this.changeNameHandler.bind(this);\r\n        this.changeDesHandler = this.changeDesHandler.bind(this);\r\n        this.changeTimeHandler = this.changeTimeHandler.bind(this);\r\n        this.changeWorkerHandler = this.changeWorkerHandler.bind(this);\r\n        this.changeDateHandler = this.changeDateHandler.bind(this);\r\n    }\r\n\r\n    changeNameHandler = (event) => {\r\n        this.setState({ appointmentName: event.target.value });\r\n    }\r\n    changeDesHandler = (event) => {\r\n        this.setState({ description: event.target.value });\r\n    }\r\n    changeDateHandler = (event) => {\r\n        this.setState({ appointmentDate: event.target.value });\r\n    }\r\n    changeTimeHandler = (event) => {\r\n        this.setState({ appointmentTime: event.target.value });\r\n    }\r\n    changeWorkerHandler = (event) => {\r\n        this.setState({ workerIdentifier: event.target.value });\r\n    }\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n    }\r\n    SaveData() {\r\n        let h = new Headers();\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        h.append('Content-Type', 'application/json');\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n\r\n        fetch(url, {\r\n            method: 'post',\r\n            headers: h,\r\n            body: JSON.stringify({\r\n                appointmentIdentifier: this.state.appointmentIdentifier,\r\n                serviceIdentifier: this.state.serviceIdentifier,\r\n                appointmentDate: this.state.appointmentDate,\r\n                appointmentName: this.state.appointmentName,\r\n                description: this.state.description,\r\n                appointmentTime: this.state.appointmentTime,\r\n                workerIdentifier: this.state.workerIdentifier\r\n            })\r\n        }).then(console.log(this.state))\r\n    }\r\n    fetchWorker(){\r\n        let h = new Headers();\r\n        h.append('Accept', 'application/json');\r\n        h.append(\"Access-Control-Allow-Origin\", \"*\")\r\n\r\n        fetch(urlWorker, {\r\n            method: 'GET',\r\n            headers: h\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({ worker: json });\r\n            })\r\n    }\r\n    componentDidMount() {\r\n        this.fetchWorker();\r\n        console.log(this.state.appointmentIdentifier);\r\n        console.log(this.state.serviceIdentifier);\r\n    }\r\n\r\n    render() {\r\n        const employee = this.state.worker.filter(\r\n            w => {\r\n                return w.serviceIdentifier.startsWith(this.state.serviceIdentifier);\r\n            }\r\n        );\r\n        return (\r\n            <>\r\n                <Sidebar />\r\n                <h1 style={{ marginLeft: '25%' }}><IoIcons.IoIosPaper /> Book an Appointment: </h1>\r\n                <div className=\"container\" style={{ marginLeft: '25%' }}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label> Appointment Id: {this.state.appointmentIdentifier}</label>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Service Id: {this.state.serviceIdentifier}</label>\r\n                        </div>\r\n                        <div className=\"form-group\" >\r\n                            <label> Your Name: </label>\r\n                            <input type=\"text\" placeholder=\"Name\" name=\"appointmentName\" className=\"form-control\"\r\n                                value={this.state.appointmentName} onChange={this.changeNameHandler} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Description: </label>\r\n                            <input placeholder=\"Description\" name=\"Description\" className=\"form-control\"\r\n                                value={this.state.description} onChange={this.changeDesHandler} />\r\n                        </div>\r\n                        <div className=\"form-group\" style={{ float: 'left', marginRight: '10px' }}>\r\n                            <label> Date: </label>\r\n                            <input type='date' placeholder=\"Date\" name=\"Date\" className=\"form-control\"\r\n                                value={this.state.appointmentDate} onChange={this.changeDateHandler} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Time: </label>\r\n                            \r\n                            <TimeField\r\n                                value=\"00:00:00\"\r\n                                onChange={this.changeTimeHandler}\r\n                                input={\r\n                                <input \r\n                                type='text' \r\n                                placeholder=\"Date\" \r\n                                name=\"Date\" \r\n                                className=\"form-control\"\r\n                                value={this.state.appointmentTime}/>\r\n                                }\r\n                                showSeconds\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label style={{marginRight:'10px'}}> Employee: </label>    \r\n                            <select id=\"employee id\" name=\"employee\" className=\"employee\" onChange={this.changeWorkerHandler}>\r\n                                <option>Choose an Employee</option>\r\n                                {employee.map(e =>\r\n                                    <option value={e.workerIdentifier} >{e.workerName}</option>\r\n                                )}\r\n                            </select>\r\n                        </div>\r\n                        <Button\r\n                            className=\"btn btn-success\"\r\n                            onClick={this.SaveData.bind(this)}\r\n                            href='/UserAppo'\r\n                            >Book Appointment</Button>\r\n                    </form>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateAppo"]},"metadata":{},"sourceType":"module"}