{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Button}from\"react-bootstrap\";import Sidebar from\"../../Layout/Sidebar/Sidebar.js\";import*as IoIcons from'react-icons/io';import urlAddress from'../../ip.json';var url='http://'+urlAddress.ip+':8080/api/worker';var urlService='http://'+urlAddress.ip+':8080/api/service/all';var AddEmployee=/*#__PURE__*/function(_Component){_inherits(AddEmployee,_Component);var _super=_createSuper(AddEmployee);function AddEmployee(props){var _this;_classCallCheck(this,AddEmployee);_this=_super.call(this,props);_this.changeNameHandler=function(event){_this.setState({workerName:event.target.value});};_this.changeAgeHandler=function(event){_this.setState({workerAge:event.target.value});};_this.changeIdHandler=function(event){_this.setState({serviceIdentifier:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();};_this.state={services:[],workerIdentifier:\"w\"+Math.floor(10000+Math.random()*9000),workerName:'',workerAge:'',serviceIdentifier:''};_this.changeNameHandler=_this.changeNameHandler.bind(_assertThisInitialized(_this));_this.changeAgeHandler=_this.changeAgeHandler.bind(_assertThisInitialized(_this));_this.changeIdHandler=_this.changeIdHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(AddEmployee,[{key:\"SaveData\",value:function SaveData(){var h=new Headers();var email=window.sessionStorage.getItem('email');var Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;h.append('Content-Type','application/json');h.append('Accept','application/json');h.append('Authorization',auth);fetch(url,{method:'post',headers:h,body:JSON.stringify({workerIdentifier:this.state.workerIdentifier,workerName:this.state.workerName,workerAge:this.state.workerAge,serviceIdentifier:this.state.serviceIdentifier})}).then(console.log(this.state));}},{key:\"fetchServices\",value:function fetchServices(){var _this2=this;var h=new Headers();var email=window.sessionStorage.getItem('email');var Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;h.append('Content-Type','application/json');h.append('Accept','application/json');h.append('Authorization',auth);fetch(urlService,{method:'GET',headers:h}).then(function(res){return res.json();}).then(function(json){_this2.setState({services:json});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchServices();console.log(this.state.workerIdentifier);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"div\",{style:{marginLeft:'25%'}},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(IoIcons.IoIosPaper,null),\" Create a new Employee: \"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Employee Id: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"workerIdentifier\",name:\"workerIdentifier\",className:\"form-control\",value:this.state.workerIdentifier})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Name\",name:\"workerName\",className:\"form-control\",value:this.state.workerName,onChange:this.changeNameHandler})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Age: \"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Age\",name:\"workerAge\",className:\"form-control\",value:this.state.workerAge,onChange:this.changeAgeHandler})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{style:{marginRight:'10px'}},\" Service Id: \"),/*#__PURE__*/React.createElement(\"select\",{id:\"service id\",name:\"service\",className:\"service\",onChange:this.changeIdHandler},/*#__PURE__*/React.createElement(\"option\",null,\"Select the Service\"),this.state.services.map(function(e){return/*#__PURE__*/React.createElement(\"option\",{value:e.serviceIdentifier},e.serviceName);}))),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-success\",onClick:this.SaveData.bind(this),href:\"/EmployeesPage\"},\"Add\"))));}}]);return AddEmployee;}(Component);export default AddEmployee;","map":{"version":3,"sources":["C:/Users/Amrah/IdeaProjects/Appointment booking API project/majorproject-5-wed-16-30-5/demo-react-frontend/src/components/Pages/Business-Owner/AddEmployee.js"],"names":["React","Component","Button","Sidebar","IoIcons","urlAddress","url","ip","urlService","AddEmployee","props","changeNameHandler","event","setState","workerName","target","value","changeAgeHandler","workerAge","changeIdHandler","serviceIdentifier","handleSubmit","preventDefault","state","services","workerIdentifier","Math","floor","random","bind","h","Headers","email","window","sessionStorage","getItem","Cryptr","require","cryptr","encryptedString","decryptedString","decrypt","console","log","encoded","btoa","auth","append","fetch","method","headers","body","JSON","stringify","then","res","json","fetchServices","marginLeft","marginRight","map","e","serviceName","SaveData"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport Sidebar from \"../../Layout/Sidebar/Sidebar.js\";\r\nimport * as IoIcons from 'react-icons/io';\r\nimport urlAddress from '../../ip.json';\r\n\r\nconst url = 'http://'+urlAddress.ip+':8080/api/worker';\r\nconst urlService = 'http://' + urlAddress.ip + ':8080/api/service/all';\r\n\r\nclass AddEmployee extends Component\r\n{\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            services:[],\r\n            workerIdentifier: \"w\" + Math.floor(10000 + Math.random() * 9000),\r\n            workerName: '',\r\n            workerAge: '',\r\n            serviceIdentifier:''\r\n        }\r\n        this.changeNameHandler = this.changeNameHandler.bind(this);\r\n        this.changeAgeHandler = this.changeAgeHandler.bind(this);\r\n        this.changeIdHandler = this.changeIdHandler.bind(this);\r\n    }\r\n    changeNameHandler = (event) => {\r\n        this.setState({ workerName: event.target.value });\r\n    }\r\n    changeAgeHandler = (event) => {\r\n        this.setState({ workerAge: event.target.value });\r\n    }\r\n    changeIdHandler = (event) => {\r\n        this.setState({ serviceIdentifier: event.target.value });\r\n    }\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n    }\r\n    SaveData() {\r\n        let h = new Headers();\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        h.append('Content-Type', 'application/json');\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n\r\n        fetch(url, {\r\n            method: 'post',\r\n            headers: h,\r\n            body: JSON.stringify({\r\n                workerIdentifier: this.state.workerIdentifier,\r\n                workerName: this.state.workerName,\r\n                workerAge: this.state.workerAge,\r\n                serviceIdentifier: this.state.serviceIdentifier\r\n            })\r\n        }).then(console.log(this.state))\r\n    }\r\n    fetchServices(){\r\n        let h = new Headers();\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        h.append('Content-Type', 'application/json');\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n\r\n        fetch(urlService, {\r\n            method: 'GET',\r\n            headers: h\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({ services: json });\r\n            })\r\n    }\r\n    componentDidMount() {\r\n        this.fetchServices();\r\n        console.log(this.state.workerIdentifier);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                <Sidebar />\r\n                <div style={{ marginLeft: '25%' }}>\r\n                    <h1><IoIcons.IoIosPaper /> Create a new Employee: </h1>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label> Employee Id: </label>\r\n                            <input type=\"text\" placeholder=\"workerIdentifier\" name=\"workerIdentifier\" className=\"form-control\"\r\n                                value={this.state.workerIdentifier} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Name: </label>\r\n                            <input type=\"text\" placeholder=\"Name\" name=\"workerName\" className=\"form-control\"\r\n                                value={this.state.workerName} onChange={this.changeNameHandler} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Age: </label>\r\n                            <input placeholder=\"Age\" name=\"workerAge\" className=\"form-control\"\r\n                                value={this.state.workerAge} onChange={this.changeAgeHandler} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label style={{ marginRight: '10px' }}> Service Id: </label>\r\n                            <select id=\"service id\" name=\"service\" className=\"service\" onChange={this.changeIdHandler}>\r\n                                <option>Select the Service</option>\r\n                                {this.state.services.map(e =>\r\n                                    <option value={e.serviceIdentifier} >{e.serviceName}</option>\r\n                                )}\r\n                            </select>\r\n                        </div>\r\n                        <Button\r\n                            className=\"btn btn-success\"\r\n                            onClick={this.SaveData.bind(this)}\r\n                            href='/EmployeesPage'\r\n                        >Add</Button>\r\n                    </form>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n         \r\n      export default AddEmployee;\r\n        "]},"metadata":{},"sourceType":"module"}