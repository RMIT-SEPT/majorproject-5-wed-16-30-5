{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\src\\\\components\\\\Pages\\\\Business-Owner\\\\EmployeesPage.js\";\nimport React, { Component } from \"react\";\nimport { Button, Container } from \"react-bootstrap\";\nimport * as BsIcons from 'react-icons/bs';\nimport * as IoIcons from 'react-icons/io';\nimport './EmployeesPage.css';\nimport CreateAddEmployeeButton from './CreateAddEmployeeButton.js';\nimport SidebarBusiness from \"../../Layout/Sidebar/SidebarBusiness.js\";\nimport urlAddress from '../../ip.json';\nconst url = 'http://' + urlAddress.ip + ':8080/api/appointment/';\n\nclass EmployeesPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      employees: []\n    };\n    this.editEmployees = this.editEmployees.bind(this);\n  }\n\n  editEmployees(id) {\n    this.props.history.push(`/EmployeeList/EditEmployee/${id}`);\n  }\n\n  fetchData() {\n    let email = window.sessionStorage.getItem('email'); //encrypted password\n\n    const Cryptr = require('cryptr');\n\n    const cryptr = new Cryptr('keyword');\n    let encryptedString = window.sessionStorage.getItem('encrypted');\n    const decryptedString = cryptr.decrypt(encryptedString);\n    console.log(decryptedString);\n    let encoded = window.btoa(email + ':' + decryptedString);\n    let auth = 'Basic ' + encoded;\n    let h = new Headers();\n    h.append('Accept', 'application/json');\n    h.append('Authorization', auth);\n    h.append(\"Access-Control-Allow-Origin\", \"*\");\n    fetch(url + 'all', {\n      method: 'GET',\n      headers: h\n    }).then(res => res.json()).then(json => {\n      this.setState({\n        employees: json\n      });\n    });\n  }\n\n  delete(id) {\n    let h = new Headers();\n    let email = window.sessionStorage.getItem('email');\n\n    const Cryptr = require('cryptr');\n\n    const cryptr = new Cryptr('keyword');\n    let encryptedString = window.sessionStorage.getItem('encrypted');\n    const decryptedString = cryptr.decrypt(encryptedString);\n    console.log(decryptedString);\n    let encoded = window.btoa(email + ':' + decryptedString);\n    let auth = 'Basic ' + encoded;\n    h.append('Accept', 'application/json');\n    h.append('Authorization', auth);\n\n    if (window.confirm('Do you want to delete?')) {\n      fetch(url + id, {\n        method: 'delete',\n        headers: h\n      }).then(json => this.fetchData()).then(function (response) {\n        console.log('Authenticated');\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SidebarBusiness, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(CreateAddEmployeeButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 100,\n        left: 402\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IoIcons.IoMdPeople, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }), \" Employees List\"), /*#__PURE__*/React.createElement(\"table\", {\n      style: {\n        width: '700px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, \" Name\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, \" Job\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, \" Business Name \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, \" Working Hours\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, this.state.employees.map(emp => /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"emply\",\n      key: emp.employeeIdentifier,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }\n    }, \" \", emp.employeeName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 33\n      }\n    }, \" \", emp.employeeDate), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"edtb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      href: `/EmployeeList/EditEmployee${emp.employeeIdentifier}`,\n      onClick: () => this.editAppointment(emp.employeeIdentifier),\n      style: {\n        marginRight: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 37\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      onClick: this.delete.bind(this, emp.employeeIdentifier),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 37\n      }\n    }, \"Delete\"))))))));\n  }\n\n}\n\nexport default EmployeesPage;","map":{"version":3,"sources":["C:/Users/Amrah/IdeaProjects/Appointment booking API project/majorproject-5-wed-16-30-5/demo-react-frontend/src/components/Pages/Business-Owner/EmployeesPage.js"],"names":["React","Component","Button","Container","BsIcons","IoIcons","CreateAddEmployeeButton","SidebarBusiness","urlAddress","url","ip","EmployeesPage","constructor","props","state","employees","editEmployees","bind","id","history","push","fetchData","email","window","sessionStorage","getItem","Cryptr","require","cryptr","encryptedString","decryptedString","decrypt","console","log","encoded","btoa","auth","h","Headers","append","fetch","method","headers","then","res","json","setState","delete","confirm","response","render","position","top","left","width","map","emp","employeeIdentifier","employeeName","employeeDate","editAppointment","marginRight"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {Button, Container} from \"react-bootstrap\";\r\nimport * as BsIcons from 'react-icons/bs';\r\nimport * as IoIcons from 'react-icons/io';\r\nimport './EmployeesPage.css';\r\nimport CreateAddEmployeeButton from './CreateAddEmployeeButton.js';\r\nimport SidebarBusiness from \"../../Layout/Sidebar/SidebarBusiness.js\";\r\nimport urlAddress from '../../ip.json';\r\n\r\nconst url = 'http://'+urlAddress.ip+':8080/api/appointment/';\r\n\r\n\r\nclass EmployeesPage extends Component\r\n{\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            employees: [],\r\n        }\r\n        this.editEmployees = this.editEmployees.bind(this);\r\n    }\r\n    editEmployees(id) {\r\n        this.props.history.push(`/EmployeeList/EditEmployee/${id}`);\r\n    }\r\n    \r\n    fetchData() {\r\n        let email = window.sessionStorage.getItem('email');\r\n        //encrypted password\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        let h = new Headers();\r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n        h.append(\"Access-Control-Allow-Origin\", \"*\")\r\n\r\n        fetch(url + 'all', {\r\n            method: 'GET',\r\n            headers: h\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({ employees: json });\r\n\r\n            })\r\n    }\r\n\r\n    delete(id) {\r\n        let h = new Headers();\r\n        let email = window.sessionStorage.getItem('email');\r\n        const Cryptr = require('cryptr');\r\n        const cryptr = new Cryptr('keyword');\r\n        let encryptedString = window.sessionStorage.getItem('encrypted');\r\n        const decryptedString = cryptr.decrypt(encryptedString);\r\n        console.log(decryptedString);\r\n        let encoded = window.btoa(email + ':' + decryptedString);\r\n        let auth = 'Basic ' + encoded;\r\n        \r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n        if (window.confirm('Do you want to delete?')) {\r\n            fetch(url+id, {\r\n                method: 'delete',\r\n                headers: h\r\n            })\r\n            .then(json => this.fetchData())\r\n            .then(function (response) {\r\n            console.log('Authenticated')});\r\n        }\r\n    }\r\n\r\n   \r\n\r\n    render() {\r\n        return (  \r\n        <> \r\n        <SidebarBusiness/>\r\n        <CreateAddEmployeeButton/>\r\n            <div style={{ position: 'fixed',top: 100,left: 402, }} >\r\n                <h1><IoIcons.IoMdPeople /> Employees List</h1>\r\n                <table style={{ width: '700px' }} >\r\n                    <thead>\r\n                        <tr>\r\n                            <td> Name</td>\r\n                            <td> Job</td>\r\n                            <td> Business Name </td>\r\n                            <td> Working Hours</td>\r\n                            <td></td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                          {this.state.employees.map(emp => \r\n                             <tr\r\n                                    \r\n                                className='emply'\r\n                                key={emp.employeeIdentifier}\r\n                                 >\r\n                                \r\n                                <td> {emp.employeeName}</td>\r\n                                <td> {emp.employeeDate}</td> \r\n                                <td className='edtb'> \r\n                                    <Button\r\n                                        href={`/EmployeeList/EditEmployee${emp.employeeIdentifier}`}\r\n                                        onClick={() => this.editAppointment(emp.employeeIdentifier)}\r\n                                        style={{ marginRight:'10px' }}\r\n                                    >\r\n                                        Edit\r\n                                    </Button>\r\n                                    <Button variant=\"danger\" \r\n                                    onClick={this.delete.bind(this, emp.employeeIdentifier)}\r\n                                    >\r\n                                    Delete\r\n                                   </Button>\r\n                                 </td>\r\n                            </tr> \r\n                         )} \r\n                    </tbody>\r\n                </table>\r\n            </div>        \r\n        </>\r\n            \r\n          );\r\n                          \r\n          \r\n    }\r\n}\r\n\r\n         \r\n      export default EmployeesPage;\r\n        \r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}