{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\src\\\\components\\\\Pages\\\\User\\\\UApt.js\";\nimport React, { Component } from 'react';\nimport './Services.css';\nimport { Button } from \"react-bootstrap\";\nimport * as BsIcons from 'react-icons/bs';\nimport * as IoIcons from 'react-icons/io';\nimport axios from 'axios';\nconst url = '/api/appointment/';\n\nclass UApt extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      appointments: []\n    };\n    this.editAppointment = this.editAppointment.bind(this);\n  }\n\n  editAppointment(id) {\n    this.props.history.push(`/appointment/${id}`);\n  }\n\n  fetchData() {\n    let h = new Headers();\n    h.append('Accept', 'application/json');\n    let encoded = window.btoa('email@email.com:password');\n    let auth = 'Basic ' + encoded;\n    h.append('Authorization', auth);\n    fetch(url + 'all', {\n      method: 'GET',\n      headers: h\n    }).then(res => res.json()).then(json => {\n      this.setState({\n        appointments: json\n      });\n    });\n  }\n\n  delete(id) {\n    let h = new Headers();\n    let encoded = window.btoa('email@email.com:password');\n    let auth = 'Basic ' + encoded;\n    h.append('Accept', 'application/json');\n    h.append('Authorization', auth);\n\n    if (window.confirm('Do you want to delete?')) {\n      fetch(url + id, {\n        method: 'delete',\n        headers: h\n      }).then(json => this.fetchData()).then(function (response) {\n        console.log('Authenticated');\n      });\n    }\n  } // delete(id) {\n  //     return axios.delete(url + id, {\n  //         withCredentials: true,\n  //         headers: {\n  //             \"Accept\": \"application/json\",\n  //             \"Content-Type\": \"application/json\"\n  //         }\n  //     }, {\n  //         auth: {\n  //             username: \"email@email.com\",\n  //             password: \"password\"\n  //         }\n  //     }).then(function (response) {\n  //         console.log('Authenticated')\n  //     }).catch(function (error) {\n  //         console.log('Error on Authentication');\n  //     });\n  // }\n\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '400px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IoIcons.IoIosPaper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }), \" Appointments\"), /*#__PURE__*/React.createElement(\"table\", {\n      style: {\n        width: '700px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, \" Appointment\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, \" Date\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, this.state.appointments.map(a => /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"appo\",\n      key: a.appointmentIdentifier,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, \" \", a.appointmentName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 33\n      }\n    }, \" \", a.appointmentDate), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"edt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      href: `/appointment/${a.appointmentIdentifier}`,\n      onClick: () => this.editAppointment(a.appointmentIdentifier),\n      style: {\n        marginRight: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 37\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      onClick: this.delete.bind(this, a.appointmentIdentifier),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 37\n      }\n    }, \"Delete\")))))));\n  }\n\n}\n\nexport default UApt;","map":{"version":3,"sources":["C:/Users/Amrah/IdeaProjects/Appointment booking API project/majorproject-5-wed-16-30-5/demo-react-frontend/src/components/Pages/User/UApt.js"],"names":["React","Component","Button","BsIcons","IoIcons","axios","url","UApt","constructor","props","state","appointments","editAppointment","bind","id","history","push","fetchData","h","Headers","append","encoded","window","btoa","auth","fetch","method","headers","then","res","json","setState","delete","confirm","response","console","log","componentDidMount","render","marginLeft","width","map","a","appointmentIdentifier","appointmentName","appointmentDate","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport './Services.css';\r\nimport { Button } from \"react-bootstrap\";\r\nimport * as BsIcons from 'react-icons/bs';\r\nimport * as IoIcons from 'react-icons/io';\r\nimport axios from 'axios';\r\n\r\nconst url = '/api/appointment/';\r\n\r\nclass UApt extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            appointments: []\r\n        }\r\n        this.editAppointment = this.editAppointment.bind(this);\r\n    }\r\n    editAppointment(id) {\r\n        this.props.history.push(`/appointment/${id}`);\r\n    }\r\n    fetchData() {\r\n\r\n        let h = new Headers();\r\n        h.append('Accept', 'application/json');\r\n\r\n        let encoded = window.btoa('email@email.com:password');\r\n        let auth = 'Basic ' + encoded;\r\n        h.append('Authorization', auth);\r\n\r\n        fetch(url + 'all', {\r\n            method: 'GET',\r\n            headers: h\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                this.setState({ appointments: json });\r\n\r\n            });\r\n    }\r\n    delete(id) {\r\n        let h = new Headers();\r\n        let encoded = window.btoa('email@email.com:password');\r\n        let auth = 'Basic ' + encoded;\r\n        \r\n        h.append('Accept', 'application/json');\r\n        h.append('Authorization', auth);\r\n        if (window.confirm('Do you want to delete?')) {\r\n            fetch(url+id, {\r\n                method: 'delete',\r\n                headers: h\r\n            })\r\n            .then(json => this.fetchData())\r\n            .then(function (response) {\r\n            console.log('Authenticated')});\r\n        }\r\n    }\r\n    // delete(id) {\r\n    //     return axios.delete(url + id, {\r\n    //         withCredentials: true,\r\n    //         headers: {\r\n    //             \"Accept\": \"application/json\",\r\n    //             \"Content-Type\": \"application/json\"\r\n    //         }\r\n    //     }, {\r\n    //         auth: {\r\n    //             username: \"email@email.com\",\r\n    //             password: \"password\"\r\n    //         }\r\n    //     }).then(function (response) {\r\n    //         console.log('Authenticated')\r\n    //     }).catch(function (error) {\r\n    //         console.log('Error on Authentication');\r\n    //     });\r\n    // }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div style={{ marginLeft: '400px' }}>\r\n                <h1><IoIcons.IoIosPaper /> Appointments</h1>\r\n                <table style={{ width: '700px' }} >\r\n                    <thead>\r\n                        <tr>\r\n                            <td> Appointment</td>\r\n                            <td> Date</td>\r\n                            <td></td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.appointments.map(a =>\r\n                            <tr\r\n                                    \r\n                                className='appo'\r\n                                key={a.appointmentIdentifier} >\r\n                                \r\n                                <td> {a.appointmentName}</td>\r\n                                <td> {a.appointmentDate}</td>\r\n                                <td className='edt'>\r\n                                    <Button\r\n                                        href={`/appointment/${a.appointmentIdentifier}`}\r\n                                        onClick={() => this.editAppointment(a.appointmentIdentifier)}\r\n                                        style={{ marginRight:'10px' }}>Edit</Button>\r\n                                    <Button variant=\"danger\" onClick={this.delete.bind(this, a.appointmentIdentifier)}>\r\n                                        Delete\r\n                                    </Button>\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default UApt"]},"metadata":{},"sourceType":"module"}