{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Amrah\\\\IdeaProjects\\\\Appointment booking API project\\\\majorproject-5-wed-16-30-5\\\\demo-react-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./Appointments.css';import*as IoIcons from'react-icons/io';import urlAddress from'../../ip.json';import Sidebar from'../../Layout/Sidebar/Sidebar';var url='http://'+urlAddress.ip+':8080/api/service/';console.log(urlAddress.ip);var Appointments=/*#__PURE__*/function(_Component){_inherits(Appointments,_Component);var _super=_createSuper(Appointments);function Appointments(props){var _this;_classCallCheck(this,Appointments);_this=_super.call(this,props);_this.state={services:[]};return _this;}_createClass(Appointments,[{key:\"fetchData\",value:function fetchData(){var _this2=this;var email=window.sessionStorage.getItem('email');//encrypted password\nvar Cryptr=require('cryptr');var cryptr=new Cryptr('keyword');var encryptedString=window.sessionStorage.getItem('encrypted');var decryptedString=cryptr.decrypt(encryptedString);console.log(decryptedString);var encoded=window.btoa(email+':'+decryptedString);var auth='Basic '+encoded;var h=new Headers();h.append('Accept','application/json');h.append('Authorization',auth);h.append(\"Access-Control-Allow-Origin\",\"*\");fetch(url+'all',{method:'GET',headers:h}).then(function(res){return res.json();}).then(function(json){_this2.setState({services:json});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"div\",{style:{marginLeft:'25%'}},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(IoIcons.IoIosPaper,null),\" Appointments\"),this.state.services.map(function(s){return/*#__PURE__*/React.createElement(\"table\",{key:s.serviceIdentifier},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Service Name\"),/*#__PURE__*/React.createElement(\"td\",null,\"Employee\"),/*#__PURE__*/React.createElement(\"td\",null,\"Customer Email\"),/*#__PURE__*/React.createElement(\"td\",null,\"Name\"),/*#__PURE__*/React.createElement(\"td\",null,\"Date\"),/*#__PURE__*/React.createElement(\"td\",null,\"Time\"))),/*#__PURE__*/React.createElement(\"tbody\",null,s.appointments.map(function(a){return/*#__PURE__*/React.createElement(\"tr\",{key:a.appointmentIdentifier},/*#__PURE__*/React.createElement(\"td\",null,s.serviceName),/*#__PURE__*/React.createElement(\"td\",null,a.workerName),/*#__PURE__*/React.createElement(\"td\",null,\" \",a.appointmentOwner),/*#__PURE__*/React.createElement(\"td\",null,\" \",a.appointmentName),/*#__PURE__*/React.createElement(\"td\",null,a.appointmentDate),/*#__PURE__*/React.createElement(\"td\",null,a.appointmentTime));})),/*#__PURE__*/React.createElement(\"br\",null));})));}}]);return Appointments;}(Component);export default Appointments;","map":{"version":3,"sources":["C:/Users/Amrah/IdeaProjects/Appointment booking API project/majorproject-5-wed-16-30-5/demo-react-frontend/src/components/Pages/Business-Owner/Appointments.js"],"names":["React","Component","IoIcons","urlAddress","Sidebar","url","ip","console","log","Appointments","props","state","services","email","window","sessionStorage","getItem","Cryptr","require","cryptr","encryptedString","decryptedString","decrypt","encoded","btoa","auth","h","Headers","append","fetch","method","headers","then","res","json","setState","fetchData","marginLeft","map","s","serviceIdentifier","appointments","a","appointmentIdentifier","serviceName","workerName","appointmentOwner","appointmentName","appointmentDate","appointmentTime"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './Appointments.css';\r\nimport * as IoIcons from 'react-icons/io';\r\nimport urlAddress from '../../ip.json';\r\nimport Sidebar from '../../Layout/Sidebar/Sidebar';\r\n\r\nconst url = 'http://' + urlAddress.ip + ':8080/api/service/';\r\nconsole.log(urlAddress.ip)\r\n\r\n\r\nclass Appointments extends Component {\r\n\r\n        constructor(props) {\r\n            super(props)\r\n\r\n            this.state = {\r\n                services: []\r\n            }\r\n        }\r\n        fetchData() {\r\n            let email = window.sessionStorage.getItem('email');\r\n            //encrypted password\r\n            const Cryptr = require('cryptr');\r\n            const cryptr = new Cryptr('keyword');\r\n            let encryptedString = window.sessionStorage.getItem('encrypted');\r\n            const decryptedString = cryptr.decrypt(encryptedString);\r\n            console.log(decryptedString);\r\n            let encoded = window.btoa(email + ':' + decryptedString);\r\n            let auth = 'Basic ' + encoded;\r\n            let h = new Headers();\r\n            h.append('Accept', 'application/json');\r\n            h.append('Authorization', auth);\r\n            h.append(\"Access-Control-Allow-Origin\", \"*\")\r\n\r\n\r\n\r\n            fetch(url + 'all', {\r\n                method: 'GET',\r\n                headers: h\r\n            })\r\n                .then(res => res.json())\r\n                .then(json => {\r\n                    this.setState({ services: json });\r\n\r\n                })\r\n        }\r\n    \r\n\r\n        componentDidMount() {\r\n            this.fetchData();\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <>\r\n                    <Sidebar />\r\n                    <div style={{ marginLeft: '25%' }}>\r\n                        <h1><IoIcons.IoIosPaper /> Appointments</h1>\r\n                        {this.state.services.map(s =>\r\n                            <table key={s.serviceIdentifier}>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <td>Service Name</td>\r\n                                        <td>Employee</td>\r\n                                        <td>Customer Email</td>\r\n                                        <td>Name</td>\r\n                                        <td>Date</td>\r\n                                        <td>Time</td>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {s.appointments.map(a =>\r\n                                        <tr\r\n                                            key={a.appointmentIdentifier} >\r\n                                            <td>{s.serviceName}</td>\r\n                                            <td>{a.workerName}</td>\r\n                                            <td> {a.appointmentOwner}</td>\r\n                                            <td> {a.appointmentName}</td>\r\n                                            <td>{a.appointmentDate}</td>\r\n                                            <td>{a.appointmentTime}</td>\r\n                                        </tr>\r\n                                    )}\r\n                                </tbody>\r\n                                <br></br>\r\n                            </table>\r\n                            )}\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\nexport default Appointments"]},"metadata":{},"sourceType":"module"}